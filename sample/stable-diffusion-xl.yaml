name: stable-diffusion-xl
backend: multigpu_diffusion
parameters:
    model: relative/path/to/stable-diffusion-xl
diffusers:
    pipeline_type: sdxl
    scheduler_type: dpmpp_2m_sde
    cfg_scale: 6.0
options:
    # generic
    - "backend:asyncdiff"
    - "variant:fp16"
    #- "gguf_model:"
    - "compel"
    - "compile_unet"
    - "compile_vae"
    - "compile_text_encoder"
    #- "quantize_to:int8"
    #- "enable_vae_tiling"
    #- "enable_vae_slicing"
    #- "xformers_efficient"
    #- "frames:25"
    #- "video_output_type:gif"
    #- "controlnet_scale:1.0"
    #- "chunk_size:8"
    #- "motion_bucket_id:180"
    #- "noise_aug_strength:0.01"
    - "warm_up_steps:20"
    #- "image_scale:100"

    # asyncdiff
    - "time_shift=true"
    - "model_n:3"
    - "stride:2"

    # distrifuser
    #- "sync_mode:corrected_async_gn"
    #- "parallelism:patch"
    #- "split_scheme:row"
    ##- "no_split_batch"
    #- "no_cuda_graph"

    # xdit
    #- "pipefusion_parallel_degree:4"
    #- "tensor_parallel_degree:1"
    #- "data_parallel_degree:1"
    #- "ulysses_degree:1"
    #- "ring_degree:1"
    ##- "use_cfg_parallel"
lora_adapters:
    - /absolute/path/to/lora.safetensors
lora_scales:
    - 1.00
